---
title: "Deep Links"
description: "It's important to tell Superwall when a deep link has been opened. This enables a few things:"
---

1. Previewing paywalls on your device before going live.
2. Deep linking to specific [campaigns](/campaigns).
3. Web Checkout [Post-Checkout Redirecting](/web-checkout-post-checkout-redirecting)


## Setup
:::ios
There are two ways to deep link into your app: URL Schemes and Universal Links.
:::
:::android
The way to deep link into your app is URL Schemes.
:::
:::flutter
There are two ways to deep link into your app: URL Schemes and Universal Links (iOS only).
:::
:::expo
There are two ways to deep link into your app: URL Schemes and Universal Links (iOS only).
:::


### Adding a Custom URL Scheme

:::ios
Open **Xcode**. In your **info.plist**, add a row called **URL Types**. Expand the automatically created **Item 0**, and inside the **URL identifier** value field, type your **Bundle ID**, e.g., **com.superwall.Superwall-SwiftUI**. Add another row to **Item 0** called **URL Schemes** and set its **Item 0** to a URL scheme you'd like to use for your app, e.g., **exampleapp**. Your structure should look like this:

<Frame>![](/images/1.png)</Frame>

With this example, the app will open in response to a deep link with the format **exampleapp://**. You can [view Apple's documentation](https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app) to learn more about custom URL schemes.
:::

:::android
Add the following to your `AndroidManifest.xml` file:

```xml
<activity android:name=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="exampleapp" />
    </intent-filter>
</activity>
```

This configuration allows your app to open in response to a deep link with the format `exampleapp://` from your `MainActivity` class.
:::

:::ios
### Adding a Universal Link
<Note>
Only required for [Web Checkout](/web-checkout), otherwise you can skip this step.
</Note>

Before configuring in your app, first [create](/web-checkout-creating-an-app) and [configure](/web-checkout-configuring-stripe-keys-and-settings) your Stripe app on the Superwall Dashboard.

#### Add a new capability in Xcode
Select your target in Xcode, then select the **Signing & Capabilities** tab. Click on the **+ Capability** button and select **Associated Domains**. This will add a new capability to your app.

<Frame>![](/images/web-checkout-ul-add.png)</Frame>

#### Set the domain
Next, enter in the domain using the format `applinks:[your-web-checkout-url]`. This is the domain that Superwall will use to handle universal links. Your `your-web-checkout-url` value should match what's under the "Web Paywall Domain" section.

<Frame>![](/images/web-checkout-ul-domain.png)</Frame>

#### Testing
<Warning>
If your Stripe app's iOS Configuration is incomplete or incorrect, universal links **will not work**
</Warning>

You can verify that your universal links are working a few different ways. Keep in mind that it usually takes a few minutes for the associated domain file to propagate:

1. **Use Branch's online validator:** If you visit [branch.io's online validator](https://branch.io/resources/aasa-validator//) and enter in your web checkout URL, it'll run a similar check and provide the same output.

2. **Test opening a universal link:** If the validation passes from either of the two steps above, make sure visiting a universal link opens your app. Your link should be formatted as `https://[your web checkout link]/app-link/` — which is simply your web checkout link with `/app-link/` at the end. This is easiest to test on device, since you have to tap an actual link instead of visiting one directly in Safari or another browser. In the iOS simulator, adding the link in the Reminders app works too:

<Frame>![](/images/web-checkout-test-link.jpg)</Frame>
:::
:::flutter
### Adding a Universal Link (iOS only)
<Note>
Only required for [Web Checkout](/web-checkout), otherwise you can skip this step.
</Note>

Before configuring in your app, first [create](/web-checkout-creating-an-app) and [configure](/web-checkout-configuring-stripe-keys-and-settings) your Stripe app on the Superwall Dashboard.

#### Add a new capability in Xcode
Select your target in Xcode, then select the **Signing & Capabilities** tab. Click on the **+ Capability** button and select **Associated Domains**. This will add a new capability to your app.

<Frame>![](/images/web-checkout-ul-add.png)</Frame>

#### Set the domain
Next, enter in the domain using the format `applinks:[your-web-checkout-url]`. This is the domain that Superwall will use to handle universal links. Your `your-web-checkout-url` value should match what's under the "Web Paywall Domain" section.

<Frame>![](/images/web-checkout-ul-domain.png)</Frame>

#### Testing
<Warning>
If your Stripe app's iOS Configuration is incomplete or incorrect, universal links **will not work**
</Warning>

You can verify that your universal links are working a few different ways. Keep in mind that it usually takes a few minutes for the associated domain file to propagate:

1. **Use Branch's online validator:** If you visit [branch.io's online validator](https://branch.io/resources/aasa-validator//) and enter in your web checkout URL, it'll run a similar check and provide the same output.

2. **Test opening a universal link:** If the validation passes from either of the two steps above, make sure visiting a universal link opens your app. Your link should be formatted as `https://[your web checkout link]/app-link/` — which is simply your web checkout link with `/app-link/` at the end. This is easiest to test on device, since you have to tap an actual link instead of visiting one directly in Safari or another browser. In the iOS simulator, adding the link in the Reminders app works too:

<Frame>![](/images/web-checkout-test-link.jpg)</Frame>
:::
:::expo
### Adding a Universal Link (iOS only)
<Note>
Only required for [Web Checkout](/web-checkout), otherwise you can skip this step.
</Note>

Before configuring in your app, first [create](/web-checkout-creating-an-app) and [configure](/web-checkout-configuring-stripe-keys-and-settings) your Stripe app on the Superwall Dashboard.

#### Add a new capability in Xcode
Select your target in Xcode, then select the **Signing & Capabilities** tab. Click on the **+ Capability** button and select **Associated Domains**. This will add a new capability to your app.

<Frame>![](/images/web-checkout-ul-add.png)</Frame>

#### Set the domain
Next, enter in the domain using the format `applinks:[your-web-checkout-url]`. This is the domain that Superwall will use to handle universal links. Your `your-web-checkout-url` value should match what's under the "Web Paywall Domain" section.

<Frame>![](/images/web-checkout-ul-domain.png)</Frame>

#### Testing
<Warning>
If your Stripe app's iOS Configuration is incomplete or incorrect, universal links **will not work**
</Warning>

You can verify that your universal links are working a few different ways. Keep in mind that it usually takes a few minutes for the associated domain file to propagate:

1. **Use Branch's online validator:** If you visit [branch.io's online validator](https://branch.io/resources/aasa-validator//) and enter in your web checkout URL, it'll run a similar check and provide the same output.

2. **Test opening a universal link:** If the validation passes from either of the two steps above, make sure visiting a universal link opens your app. Your link should be formatted as `https://[your web checkout link]/app-link/` — which is simply your web checkout link with `/app-link/` at the end. This is easiest to test on device, since you have to tap an actual link instead of visiting one directly in Safari or another browser. In the iOS simulator, adding the link in the Reminders app works too:

<Frame>![](/images/web-checkout-test-link.jpg)</Frame>
:::


### Handling Deep Links
:::ios

Depending on whether your app uses a SceneDelegate, AppDelegate, or is written in SwiftUI, there are different ways to tell Superwall that a deep link has been opened.

Be sure to click the tab that corresponds to your architecture:

<CodeGroup>
```swift AppDelegate.swift
import SuperwallKit

class AppDelegate: UIResponder, UIApplicationDelegate {
  // NOTE: if your app uses a SceneDelegate, this will NOT work!
  func application(
    _ application: UIApplication, 
    open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]
  ) -> Bool {
    return Superwall.handleDeepLink(url)
  }

  func application(
    _ application: UIApplication,
    continue userActivity: NSUserActivity,
    restorationHandler: @escaping ([UIUserActivityRestoring]?) -> Void
  ) -> Bool {
    if userActivity.activityType == NSUserActivityTypeBrowsingWeb,
      let url = userActivity.webpageURL {
      return Superwall.handleDeepLink(url)
    }
    return false
  }
}
```

```swift SceneDelegate.swift
import SuperwallKit

class SceneDelegate: UIResponder, UIWindowSceneDelegate {
  // for cold launches
  func scene(
    _ scene: UIScene, 
    willConnectTo session: UISceneSession, 
    options connectionOptions: UIScene.ConnectionOptions
  ) {
    if let url = connectionOptions.urlContexts.first?.url {
      Superwall.handleDeepLink(url)
    }
    else if let userActivity = connectionOptions.userActivities.first(where: { $0.activityType == NSUserActivityTypeBrowsingWeb }),
      let url = userActivity.webpageURL {
      Superwall.handleDeepLink(url)
    }
  }

  // for when your app is already running
  func scene(
    _ scene: UIScene, 
    openURLContexts URLContexts: Set<UIOpenURLContext>
  ) {
    if let url = URLContexts.first?.url {
      Superwall.handleDeepLink(url)
    }
  }

  func scene(
    _ scene: UIScene,
    continue userActivity: NSUserActivity
  ) {
    if userActivity.activityType == NSUserActivityTypeBrowsingWeb,
      let url = userActivity.webpageURL {
      Superwall.handleDeepLink(url)
    }
  }
}
```

```swift SwiftUI
import SuperwallKit

@main
struct MyApp: App {
  var body: some Scene {
    WindowGroup {
      ContentView()
        .onOpenURL { url in
          Superwall.handleDeepLink(url)
        }
    }
  }
}
```

```swift Objective-C
// In your SceneDelegate.m

#import "SceneDelegate.h"
@import SuperwallKit;

@interface SceneDelegate ()

@end

@implementation SceneDelegate

- (void)scene:(UIScene *)scene willConnectToSession:(UISceneSession *)session options:(UISceneConnectionOptions *)connectionOptions {
    [self handleURLContexts:connectionOptions.URLContexts];
    [self handleUserActivity:connectionOptions.userActivities.allObjects.firstObject];
}

- (void)scene:(UIScene *)scene openURLContexts:(NSSet<UIOpenURLContext *> *)URLContexts {
    [self handleURLContexts:URLContexts];
}

- (void)scene:(UIScene *)scene continueUserActivity:(NSUserActivity *)userActivity {
    [self handleUserActivity:userActivity];
}

#pragma mark - Deep linking

- (void)handleURLContexts:(NSSet<UIOpenURLContext *> *)URLContexts {
    [URLContexts enumerateObjectsUsingBlock:^(UIOpenURLContext * _Nonnull context, BOOL * _Nonnull stop) {
        [[Superwall sharedInstance] handleDeepLink:context.URL];
    }];
}

- (void)handleUserActivity:(NSUserActivity *)userActivity {
    if ([userActivity.activityType isEqualToString:NSUserActivityTypeBrowsingWeb] && userActivity.webpageURL) {
        [[Superwall sharedInstance] handleDeepLink:userActivity.webpageURL];
    }
}

@end
```

</CodeGroup>
:::
:::android
In your `MainActivity` (or the activity specified in your intent-filter), add the following Kotlin code to handle deep links:

```kotlin Kotlin
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        // Respond to deep links
        respondToDeepLinks()
    }

    private fun respondToDeepLinks() {
        intent?.data?.let { uri ->
            Superwall.instance.handleDeepLink(uri)
        }
    }
}

```
:::
:::flutter
In your `pubspec.yaml` file, add the `uni_links` package to your dependencies:

```yaml
dependencies:
  uni_links: ^0.5.1
```

Then, run `flutter pub get` to install the package. Next, in your Flutter app, use the Superwall SDK to handle the deep link via `Superwall.shared.handleDeepLink(theLink);`. Here's a complete example:

```dart
import 'package:flutter/material.dart';
import 'package:superwallkit_flutter/superwallkit_flutter.dart';
import 'package:uni_links/uni_links.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatefulWidget {
  MyApp();

  @override
  _MyAppState createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  @override
  void initState() {
    super.initState();
    Superwall.configure('YOUR_SUPERWALL_API_KEY');
    _handleIncomingLinks();
  }

  void _handleIncomingLinks() {
    uriLinkStream.listen((Uri? uri) {
      if (uri != null) {
        Superwall.shared.handleDeepLink(uri);
      }
    }, onError: (Object err) {
      print('Error receiving incoming link: $err');
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        body: Center(
          child: Text(
            'Deep Link Preview Example',
            style: TextStyle(fontSize: 24),
          ),
        ),
      ),
    );
  }
}
```
:::

:::android
### Handling App Links

## Adding app links

Android App links enable seamless integration between the Web checkout and your app,
enabling users to redeem the purchase automatically.

To allow Android app links to open your app, you will need to follow these steps:


## 1. Add your app's fingerprint and schema to Stripe settings

To verify that the request to open the app is legitimate, Android requires your app's keystore SHA256 fingerprint, with at least one for your development keystore and one for your release keystore. You can obtain these fingerprints in the following way:

#### Development fingerprints

If you're using Android studio or have Android components installed, you can obtain your debug key by running the following command in your terminal:

`keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android`

And then copying the outputted SHA256 fingerprint.


#### Release fingerprints

To obtain the release fingerprints, you'll need your own keystore file (the one you use to sign the final application package before publishing).

You can do this by running the following command in your terminal:

`keytool -list -v -keystore <PATH_TO_YOUR_KEYSTORE> -alias <YOUR_KEY_ALIAS>`

And then copying the outputted SHA256 fingerprint.


#### Adding the fingerprints to the project

To add the fingerprints to Superwall, open the Settings tab of your Superwall Stripe application.
Under the `Android Configuration` title, you should see three fields:

- Package schema - this allows us to know which schema your app uses to open and parse deep links
- Package name - your app's package name, i.e. `com.mydomain.myapp`
- App fingerprints - One or more of your app's fingerprints, comma separated


<Frame>![](/images/android-app-links-fingerprints.png)</Frame>


Once added, click the `Update Configuration` button which will ensure the application asset links are properly generated for Google to verify.


### 2. Add the schema to your app's Android Manifest

For this, you'll need to copy the domain from your Superwall Stripe settings.
Then, open your `AndroidManifest.xml`  and inside the `<activity ...>` tag declaring your deep link handling activity, add the following, replacing the domain with the one from the settings:

```xml
<intent-filter android:autoVerify="true">  
    <action android:name="android.intent.action.VIEW" />  
  
    <category android:name="android.intent.category.DEFAULT" />  
    <category android:name="android.intent.category.BROWSABLE" />  
  
    <data android:scheme="https" />  
	<data android:host="yourappdomain.superwall.app"
		  android:pathPrefix="/redeem" />  
</intent-filter>
```

### 3. Handle incoming deep links using Superwall SDK

In the same activity as in step #2, you'll need to pass deeplinks along to Superwall SDK.
You can do this by overriding your Activity's `onCreate` and `onNewIntent` methods and passing along the intent data to Superwall using `Superwall.handleDeepLinks()` method. The method returns a `kotlin.Result` indicating if the deep link will be handled by Superwall SDK.

```kotlin
override fun onCreate(savedInstanceState: Bundle?) {  
    super.onCreate(savedInstanceState)
	// your onCreate code
	intent?.data?.let { uri ->  
	    Superwall.handleDeepLink(uri)  
	}
}

override fun onNewIntent(intent: Intent, caller: ComponentCaller) {  
    super.onNewIntent(intent, caller)  
    // ... Your onNewIntent code
    intent?.data?.let { uri ->  
	    Superwall.handleDeepLink(uri)  
	}
}
```


### 4. Handling links while testing

If you are running your app using Android Studio, you need to be aware that it won't automatically allow verified links to be opened using the app, but you will need to enable it in settings yourself. This is not the case when installing from Play Store, and all the links will be handled automatically.

To do that, once you install the app on your device, open:
`Settings > Apps > Your Application Name > Open By Default`

Under there, the `Open supported links` should be enabled.
Tap `Add Links` button and selected the available links.

<Frame>![](/images/android-app-links-debug.png)</Frame>


### Testing & more details

For details regarding testing and setup, you can refer to [Android's guide for verifying app links](https://developer.android.com/training/app-links/verify-android-applinks).
Note - Superwall generates the assetlinks.json for you. To check the file, you can use the subdomain from your Superwall stripe configuation:

`https://my-app.superwall.app/.well-known/assetlinks.json`
:::android

:::expo
You can use the Superwall SDK to handle the deeplink with `SuperwallExpoModule.handleDeepLink(url)`. Here, we have code to ensure that the deep link opens a preview when the app is booted from the deep link, and when it's already in the foreground running:

```tsx
import React, { useEffect } from 'react';
import { Linking, AppState } from 'react-native';
import SuperwallExpoModule from 'expo-superwall';

function handleDeepLink(url: string | null) {
  if (url) {
    SuperwallExpoModule.handleDeepLink(url);
  }
}

function DeepLinkHandler(): null {
  useEffect(() => {
    const handleIncomingLink = async () => {
      const url = await Linking.getInitialURL();
      handleDeepLink(url);
    };

    // Handle any existing deep link on mount
    handleIncomingLink();

    const appStateSubscription = AppState.addEventListener('change', (nextAppState) => {
      if (nextAppState === 'active') {
        handleIncomingLink();
      }
    });

    const linkingSubscription = Linking.addEventListener('url', (event) => {
      handleDeepLink(event.url);
    });

    return () => {
      appStateSubscription.remove();
      linkingSubscription.remove();
    };
  }, []);

  return null;
}

// Use this component inside your app wrapped with SuperwallProvider:
// <SuperwallProvider apiKeys={{ ios: "YOUR_API_KEY" }}>
//   <DeepLinkHandler />
//   {/* Your app content */}
// </SuperwallProvider>

export default DeepLinkHandler;
```
:::


## Previewing Paywalls
Next, build and run your app on your phone.

Then, head to the Superwall Dashboard. Click on **Settings** from the Dashboard panel on the left, then select **General**:

<Frame>![](/images/c252198-image.png)</Frame>

With the **General** tab selected, type your custom URL scheme, without slashes, into the **Apple Custom URL Scheme** field:

<Frame>![](/images/6b3f37e-image.png)</Frame>

Next, open your paywall from the dashboard and click **Preview**. You'll see a QR code appear in a pop-up:

<Frame>![](/images/2.png)</Frame>
<br />
<Frame>![](/images/3.png)</Frame>

On your device, scan this QR code. You can do this via Apple's Camera app. This will take you to a paywall viewer within your app, where you can preview all your paywalls in different configurations.


## Using Deep Links to Present Paywalls
Deep links can also be used as a placement in a campaign to present paywalls. Simply add `deepLink_open` as an placement, and the URL parameters of the deep link can be used as parameters! You can also use custom placements for this purpose. [Read this doc](/presenting-paywalls-from-one-another) for examples of both.
